<!DOCTYPE html>
<html>
    <head>
        <title>Login Tests</title>
        
        <link rel="stylesheet" href="/assets/css/main.css">
        
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
        <script src="/assets/js/testsHelper.js"></script>
        <script src="/assets/js/global.js"></script>
        <script src="/assets/js/login.js"></script>

        <script>
            async function runTests() {
                const data = {
                    userId: 12,
                    eventId: -1,
                    title: 'Event Title',
                    description: 'Event Description',
                    category: 12,
                    date: ''
                };

                const response = await sqlRequest('POST', 'UPDATE_EVENT', data);
                console.log(response);
            }

            async function runTests2() {
                await signup('Ava Richardson', '2000-03-24', '0482 119 382', 'avaRich2000@gmail.com', 'password123');
                await signup('Marcus Bennett', '1987-11-03', '0456 203 190', 'mbennett87@gmail.com', 'marcus87');
                await signup('Chloe Nguyen', '1998-01-22', '0479 448 200', 'QueenChloe98@gmail.com', 'chloeng98');
                await signup('Ethan Brooks', '1990-05-11', '0430 114 229', 'ethanbrooks90@icloud.com', 'brooks90');
                await signup('Amelia White', '1985-09-29', '0423 803 166', 'amelia85@icloud.com', 'amelia85');
                await signup('Lucas Patel', '1992-04-18', '0418 764 111', 'lucas.patel92@gmail.com', 'lucas92');
                await signup('Grace Thompson', '1995-12-05', '0499 281 753', 'graceQueen95@yahoo.com', 'grace95');
                await signup('Noah Murphy', '1988-02-17', '0402 597 640', 'nmurphy88@outlook.com', 'noah888');
                await signup('Isabella Martin', '1996-08-23', '0451 673 288', 'izzymartin96@outlook.com', 'bella96');
                await signup('William Zhao', '1991-03-30', '0435 884 920', 'wZhao91@outlook.com', 'willz91');


                // test login with invalid user
                await login("valid@example.com", "password");
                assert(localStorage.getItem("user") === "1", "Login failed");

            }
        </script>
    </head>
    <body class="min-h-screen flex flex-col">

        <main class="flex-grow flex flex-col gap-10 items-center justify-center">
            <button class="bg-(--book-btn) hover:bg-(--hover-book-btn) text-(--text) cursor-pointer px-6 py-3 rounded-lg" onclick="resetTestOutcome(); runTests();">
                Run Tests
            </button>
            <p class="text-center">
                <b>Test Outcome</b>
                <span id="testOutcome">
                    <!-- test outcome is written here -->
                </span>
            </p>
        </main>
    </body>
</html>
